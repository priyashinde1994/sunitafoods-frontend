<div class="container mt-4" *ngIf="product?.id; else loading">
  <div class="row gx-5 gy-4">
    <!-- Product Images with Flip Effect -->
    <div class="col-md-5">
      <div class="flip-card mx-auto">
        <div class="flip-card-inner">
          <div class="flip-card-front">
            <img [src]="apiUrl + product.imageUrl"
                 alt="{{ product.name }} front"
                 class="img-fluid rounded product-image" />
          </div>
          <div class="flip-card-back" *ngIf="product.backImageUrl">
            <img [src]="apiUrl + product.backImageUrl"
                 alt="{{ product.name }} back"
                 class="img-fluid rounded product-image" />
          </div>
        </div>
      </div>
    </div>

    <!-- Product Info -->
    <div class="col-md-7">
      <div class="card p-4 shadow-sm">
        <h2 class="mb-3">{{ product.name }}</h2>
        <p class="text-muted">{{ product.description }}</p>
        <p class="mb-2"><strong>Net Weight:</strong> {{ product.quantity }}</p>
        <h4 class="text-danger mb-3">₹{{ product.price }}</h4>

        <!-- Quantity Selector -->
        <div class="d-flex align-items-center mb-3">
          <label class="me-2">Quantity:</label>
          <button class="btn btn-sm btn-outline-secondary" (click)="decrement()">−</button>
          <span class="mx-2">{{ quantity }}</span>
          <button class="btn btn-sm btn-outline-secondary" (click)="increment()">+</button>
        </div>

        <!-- Actions -->
        <div class="d-flex gap-3 mb-4">
          <button class="btn btn-primary" (click)="addToCart(product.id)">Add to Cart</button>
          <button (click)="goToCart()" class="btn btn-outline-secondary">Go to Cart</button>

        </div>

        <!-- Seller Info -->
        <div class="border-top pt-3">
          <h6 class="text-uppercase text-muted mb-2">Seller Information</h6>
          <div class="mb-1"><strong>Sold by:</strong> Shahaji Shinde</div>
          <div class="mb-1"><strong>Location:</strong> Langarpath, Sangli, Maharashtra - 416405</div>
          <div class="mb-1"><strong>FSSAI License:</strong> 21525087004540</div>
          <div class="mb-1"><strong>Customer Care:</strong> +91 8591340343</div>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #loading>
  <div class="text-center mt-5">
    <p class="text-muted">Loading product details...</p>
  </div>
</ng-template>
